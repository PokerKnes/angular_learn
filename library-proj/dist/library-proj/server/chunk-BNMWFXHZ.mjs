import './polyfills.server.mjs';
import{a as Y,b as F,d as et,e as it,f as nt,g as ot,h as rt,i as at,j as ct}from"./chunk-SGFQZOFB.mjs";import{$ as s,Ea as L,F as P,Fa as H,G as c,Ga as M,H as _,Ia as G,K as W,N as x,P as u,R as j,S as l,T as a,U as k,V as D,W as N,Wa as V,X as C,Y as b,Z as d,Za as U,_a as tt,aa as v,ab as B,ba as w,ca as A,da as R,ea as q,ga as Z,h as I,ia as S,n as y,o as E,r as h,s as f,w as X}from"./chunk-64YZXNQ6.mjs";function ft(t,o){if(t&1&&(D(0),l(1,"option",14),s(2),a(),N()),t&2){let r=o.$implicit;c(),u("value",r[1]),c(),v(r[0])}}function gt(t,o){t&1&&(l(0,"div",15)(1,"span"),s(2,"\u041F\u043E \u0434\u0430\u043D\u043D\u043E\u043C\u0443 \u0437\u0430\u043F\u0440\u043E\u0441\u0443 \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u043E \u043D\u0438 1 \u043A\u043D\u0438\u0433\u0438. \u041F\u043E\u043C\u0435\u043D\u044F\u0439\u0442\u0435 \u0444\u0438\u043B\u044C\u0442\u0440\u044B"),a()())}function _t(t,o){t&1&&k(0,"div",16)}function bt(t,o){t&1&&k(0,"app-items-section")}function xt(t,o){if(t&1){let r=C();l(0,"app-paginator",17),b("loadPage",function(i){h(r);let n=d();return f(n.searchRedirect(i))}),a()}}var st=function(t){return t.Any="",t.Afrikaans="af",t.Aleut="ale",t.Arabic="ar",t.Arapaho="arp",t.Bodo="brx",t.Breton="br",t.Bulgarian="bg",t.Cal\u00F3="rmq",t.Catalan="ca",t.Cebuano="ceb",t.Chinese="zh",t.Czech="cs",t.Danish="da",t.Dutch="nl",t.English="en",t.Esperanto="eo",t.Estonian="et",t.Farsi="fa",t.Finnish="fi",t.French="fr",t.Frisian="fy",t.Friulian="fur",t["Gaelic, Scottish"]="gla",t.Galician="gl",t.Gamilaraay="kld",t.German="de",t.Greek="el",t["Greek, Ancient"]="grc",t.Hebrew="he",t.Hungarian="hu",t.Icelandicvalue="is",t.Iloko="ilo",t.Interlingua="ia",t.Inuktitut="iu",t.Irish="ga",t.Italian="it",t.Japanese="ja",t.Kashubian="csb",t.Khasi="kha",t.Korean="ko",t.Latin="la",t.Lithuanian="lt",t.Maori="mi",t["Mayan Languages"]="myn",t["Middle English"]="enm",t.Nahuatl="nah",t["Napoletano-Calabrese"]="nap",t.Navajo="nav",t["North American Indian"]="nai",t.Norwegian="no",t.Occitan="oc",t.Ojibwa="oji",t["Old English"]="ang",t.Polish="pl",t.Portuguese="pt",t.Romanian="ro",t.Russian="ru",t.Sanskrit="sa",t.Serbian="sr",t.Slovenian="sl",t.Spanish="es",t.Swedish="sv",t.Tagabawa="bgs",t.Tagalog="tl",t.Telugu="te",t.Welsh="cy",t.Yiddish="yi",t}(st||{}),J=(()=>{let o=class o{constructor(e,i,n){this.dataService=e,this.route=i,this.router=n,this.emptyHint=!1,this.listLang=Object.entries(st),this.authorFilter="",this.titleFilter="",this.subjectFilter="",this.selectFilter="",this.url="",this.query={},this.searchInProgress=!1,this.timeoutId=null,this.viewHint=!0}search(e,i){this.searchInProgress=!0;let n="";e==null&&(e="1");let p=this.selectFilter,m="";if(i==null){if(p!=""&&(n+="https://gutendex.com/books/?languages="+p),this.authorFilter.trim()!=""){let O=this.authorFilter.trim().replace(/ +/g,"%20");m+="search="+O}if(this.titleFilter.trim()!=""){let O=this.titleFilter.trim().replace(/ +/g,"%20");m!=""?m+="%20"+O:m+="search="+O}if(m!=""&&(n!=""?n+="&"+m:n+="https://gutendex.com/books/?"+m),this.subjectFilter.trim()!=""){let O=this.subjectFilter.trim().replace(/ +/g,"%20");n!=""?n+="&topic="+O:n+="https://gutendex.com/books/?topic="+O}}else i.languages&&(n+="https://gutendex.com/books/?languages="+i.languages),i.search&&(n!=""?n+="&search="+i.search:n+="https://gutendex.com/books/?search="+i.search),i.topic&&(n!=""?n+="&topic="+i.topic:n+="https://gutendex.com/books/?topic="+i.topic);n==""?n=`https://gutendex.com/books/?page=${e}`:n+=`&page=${e}`,this.dataService.getBooks(n,e);let g={authorFilter:this.authorFilter,titleFilter:this.titleFilter,subjectFilter:this.subjectFilter,selectFilter:this.selectFilter,query:this.query};this.dataService.setDataFilter(g)}searchRedirect(e="1"){let i={};this.selectFilter!=""&&(i.languages=this.selectFilter),this.subjectFilter!=""&&(i.topic=this.subjectFilter.trim());let n=this.authorFilter.trim(),p=this.titleFilter.trim(),m="";if(p!=""&&n!=""?m=p+" "+n:p!=""?m=p:m=n,m!=""&&(i.search=m),i.page=e,this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null),Object.keys(this.query).length!=0&&JSON.stringify(this.query)===JSON.stringify(i)){this.viewHint=!1,this.timeoutId=setTimeout(()=>{this.timeoutId=null,this.viewHint=!0},1e3);return}this.query=i,this.router.navigate(["/book-search"],{relativeTo:this.route,queryParams:i})}ngOnInit(){this.dataService.getDataObservable().subscribe(e=>{this.emptyHint=e.emptyHint,this.url=e.url,this.searchInProgress=e.searchInProgress}),this.authorFilter=this.dataService.authorFilter,this.titleFilter=this.dataService.titleFilter,this.subjectFilter=this.dataService.subjectFilter,this.selectFilter=this.dataService.selectFilter,this.query=this.dataService.query,this.emptyHint=this.dataService.emptyHint,this.url=this.dataService.url,this.route.queryParams.subscribe(e=>{Object.keys(e).length==0&&(e=this.query);let i=e.page;Object.keys(e).length!==0&&this.search(i,e)})}};o.\u0275fac=function(i){return new(i||o)(_(F),_(V),_(U))},o.\u0275cmp=y({type:o,selectors:[["app-filter-section"]],decls:32,vars:10,consts:[["select",""],[1,"main-container"],[1,"filter-container"],[1,"item-filter"],[3,"ngModelChange","ngModel"],[4,"ngFor","ngForOf"],["type","text",3,"ngModelChange","ngModel"],[1,"button-container"],[1,"button","button-search",3,"click"],[1,"hint-error",3,"hidden"],["class","hint-empty",4,"ngIf"],["class","loader",4,"ngIf"],[4,"ngIf"],[3,"loadPage",4,"ngIf"],[3,"value"],[1,"hint-empty"],[1,"loader"],[3,"loadPage"]],template:function(i,n){if(i&1){let p=C();l(0,"div",1)(1,"h4"),s(2,"\u0424\u0438\u043B\u044C\u0442\u0440\u044B"),a(),l(3,"div",2)(4,"div",3)(5,"span"),s(6,"\u044F\u0437\u044B\u043A"),a(),l(7,"select",4,0),q("ngModelChange",function(g){return h(p),R(n.selectFilter,g)||(n.selectFilter=g),f(g)}),x(9,ft,3,2,"ng-container",5),a()(),l(10,"div",3)(11,"span"),s(12,"\u0430\u0432\u0442\u043E\u0440"),a(),l(13,"input",6),q("ngModelChange",function(g){return h(p),R(n.authorFilter,g)||(n.authorFilter=g),f(g)}),a()(),l(14,"div",3)(15,"span"),s(16,"\u043D\u0430\u0437\u0432\u0430\u043D\u0438\u0435"),a(),l(17,"input",6),q("ngModelChange",function(g){return h(p),R(n.titleFilter,g)||(n.titleFilter=g),f(g)}),a()(),l(18,"div",3)(19,"span"),s(20,"\u0442\u0435\u043C\u0430"),a(),l(21,"input",6),q("ngModelChange",function(g){return h(p),R(n.subjectFilter,g)||(n.subjectFilter=g),f(g)}),a()(),l(22,"div",7)(23,"button",8),b("click",function(){return h(p),f(n.searchRedirect("1"))}),s(24,"\u043F\u043E\u0438\u0441\u043A"),a()()()(),l(25,"div",9)(26,"span"),s(27,"\u0443\u043A\u0430\u0437\u0430\u043D\u044B \u0442\u0435 \u0436\u0435 \u0444\u0438\u043B\u044C\u0442\u0440\u044B \u0437\u0430\u043F\u0440\u043E\u0441\u0430"),a()(),x(28,gt,3,0,"div",10)(29,_t,1,0,"div",11)(30,bt,1,0,"app-items-section",12)(31,xt,1,0,"app-paginator",13)}i&2&&(c(7),A("ngModel",n.selectFilter),c(2),u("ngForOf",n.listLang),c(4),A("ngModel",n.authorFilter),c(4),A("ngModel",n.titleFilter),c(4),A("ngModel",n.subjectFilter),c(4),u("hidden",n.viewHint),c(3),u("ngIf",n.emptyHint),c(),u("ngIf",n.searchInProgress),c(),u("ngIf",!n.searchInProgress),c(),u("ngIf",!n.searchInProgress))},styles:['@charset "UTF-8";body[_ngcontent-%COMP%]{margin:0;background-color:#e3cdbb}.main-container[_ngcontent-%COMP%]{width:fit-content;border:1px solid black;padding:10px;border-radius:6px;background-color:#e1d9d9}.filter-container[_ngcontent-%COMP%]{display:flex;align-items:flex-end}.hint-error[_ngcontent-%COMP%]{padding:10px;border-radius:6px;background-color:#e1d9d9;border:2px solid rgb(221,42,42);width:fit-content;margin:15px 0}.item-filter[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;margin-right:10px}.item-filter[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .item-filter[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:200px;padding:6px;border:1px solid #7e7c7c;border-radius:5px;color:#333;outline:none}.item-filter[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:17px}.item-filter[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover, .item-filter[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:hover{border:2px solid black;padding:5px}.item-filter[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .item-filter[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border:2px solid black;padding:5px}span[_ngcontent-%COMP%]{margin-bottom:2px}h4[_ngcontent-%COMP%]{margin:0 0 8px;text-align:center}.button-container[_ngcontent-%COMP%]{align-content:end}.hint-empty[_ngcontent-%COMP%]{padding:10px;border-radius:6px;background-color:#e1d9d9;border:2px solid rgb(221,42,42);width:fit-content;margin:15px 0}.button[_ngcontent-%COMP%]{height:31px;border-radius:5px;border:1px solid #7e7c7c;background-color:#fff;transition:background-color .7s ease}.button[_ngcontent-%COMP%]:hover{background-color:#e3cdbb;border:2px solid black;padding:0 5px}.loader[_ngcontent-%COMP%]{border:15px solid #e1d9d9;border-top:15px solid #a75c1f;border-radius:50%;width:150px;height:150px;animation:_ngcontent-%COMP%_spin 2s linear infinite;position:fixed;top:40%;left:19%;transform:translate(-50%,-50%)}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']});let t=o;return t})();function vt(t,o){if(t&1){let r=C();l(0,"div",7),b("click",function(){h(r);let i=d().$implicit,n=d(2);return f(n.redirectTo(i.id))}),k(1,"img",8),a()}if(t&2){let r=d().$implicit;c(),u("src",r.formats["image/jpeg"],P)}}function kt(t,o){if(t&1){let r=C();l(0,"div",7),b("click",function(){h(r);let i=d().$implicit,n=d(2);return f(n.redirectTo(i.id))}),k(1,"img",9),a()}}function yt(t,o){if(t&1){let r=C();D(0),l(1,"div",2),x(2,vt,2,1,"div",3)(3,kt,2,0),l(4,"div",4)(5,"ul")(6,"li")(7,"b"),s(8,"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435"),a(),s(9),a(),l(10,"li")(11,"b"),s(12,"\u0410\u0432\u0442\u043E\u0440\u044B"),a(),s(13),a()(),l(14,"div",5)(15,"button",6),b("click",function(){let i=h(r).$implicit,n=d(2);return f(n.addBookYourself(i))}),s(16),a()()()(),N()}if(t&2){let r=o.$implicit;c(2),j(2,r.formats["image/jpeg"]?2:3),c(7),w(`:
`,r.title,""),c(4),w(`:
`,r.authorsFormat,""),c(2),u("disabled",!!r.add),c(),v(r.add?"\u0434\u043E\u0431\u0430\u0432\u043B\u0435\u043D\u043E":"\u0434\u043E\u0431\u0430\u0432\u0438\u0442\u044C")}}function Pt(t,o){if(t&1&&(D(0),x(1,yt,17,5,"ng-container",1),N()),t&2){let r=d();c(),u("ngForOf",r.booksList)}}var ut=(()=>{let o=class o{constructor(e,i,n,p,m){this.dataService=e,this.router=i,this.route=n,this.yourBooksService=p,this.renderer=m,this.timeoutId=null}redirectTo(e){this.router.navigate([`book-info/${e}`],{relativeTo:this.route})}addBookYourself(e){let i=e.id;this.yourBooksService.listBooks.find(p=>p.id===i)==null&&this.yourBooksService.addBook(e)}ngOnInit(){this.dataService.getDataObservable().subscribe(e=>{this.booksList=e.listBookPage}),this.booksList=this.dataService.listBookPage}};o.\u0275fac=function(i){return new(i||o)(_(F),_(U),_(V),_(Y),_(W))},o.\u0275cmp=y({type:o,selectors:[["app-items-section"]],decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"main-container"],[1,"image-container"],[1,"info-container"],[1,"add-book-conteiner"],[1,"button","button-add",3,"click","disabled"],[1,"image-container",3,"click"],[3,"src"],["src","../../../../assets/defaultBook.png"]],template:function(i,n){i&1&&x(0,Pt,2,1,"ng-container",0),i&2&&u("ngIf",n.booksList!=null)},dependencies:[H,M],styles:["body[_ngcontent-%COMP%]{margin:0;background-color:#e3cdbb}.main-container[_ngcontent-%COMP%]{border-radius:6px;background-color:#e1d9d9;border:1px solid black;width:fit-content;margin:15px 0;display:flex;padding:20px;width:910.578px;font-size:18px}.info-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-content:center;justify-content:space-between;align-items:flex-start;flex-grow:1;margin-left:20px}.info-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:0;list-style-type:none}.info-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:15px;white-space:pre-wrap}.button-add[_ngcontent-%COMP%]{height:auto;border-radius:5px;border:1px solid #7e7c7c;background-color:#fff;transition:background-color .7s ease;font-size:16px;padding:8px;width:98.0312px}.button-add[_ngcontent-%COMP%]:disabled{border:2px solid green;color:#000;padding:7px;background-color:#e3cdbb}.button-add[_ngcontent-%COMP%]:not(:disabled):hover{background-color:#e3cdbb;border:2px solid black;padding:7px}.add-book-conteiner[_ngcontent-%COMP%]{align-self:end}.image-container[_ngcontent-%COMP%]{display:flex;height:fit-content;transition:opacity .7s ease}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;max-height:150px}.image-container[_ngcontent-%COMP%]:hover{opacity:60%}"]});let t=o;return t})();var dt=t=>({disabled:t}),z=t=>({active:t});function St(t,o){t&1&&(l(0,"span"),s(1,"..."),a())}function Mt(t,o){if(t&1){let r=C();l(0,"button",7),b("click",function(){h(r);let i=d(2);return f(i.changePage(i.changeFirstButton))}),s(1),a()}if(t&2){let r=d(2);u("ngClass",S(2,z,r.changeFirstButton===r.currentPage)),c(),v(r.changeFirstButton)}}function Bt(t,o){if(t&1){let r=C();l(0,"button",7),b("click",function(){h(r);let i=d(2);return f(i.changePage(i.changeSecondButton))}),s(1),a()}if(t&2){let r=d(2);u("ngClass",S(2,z,r.changeSecondButton===r.currentPage)),c(),v(r.changeSecondButton)}}function Ft(t,o){if(t&1){let r=C();l(0,"button",7),b("click",function(){h(r);let i=d(2);return f(i.changePage(i.changeThirdButton))}),s(1),a()}if(t&2){let r=d(2);u("ngClass",S(2,z,r.changeThirdButton===r.currentPage)),c(),v(r.changeThirdButton)}}function Ot(t,o){t&1&&(l(0,"span"),s(1,"..."),a())}function wt(t,o){if(t&1){let r=C();l(0,"div",1)(1,"button",2),b("click",function(){h(r);let i=d();return f(i.changePage(i.currentPage-1))}),s(2,"\u041D\u0430\u0437\u0430\u0434"),a(),l(3,"button",3),b("click",function(){h(r);let i=d();return f(i.changePage(i.firstButtonValue))}),s(4),a(),x(5,St,2,0,"span",4)(6,Mt,2,4,"button",5)(7,Bt,2,4,"button",5)(8,Ft,2,4,"button",5)(9,Ot,2,0,"span",4),l(10,"button",6),b("click",function(){h(r);let i=d();return f(i.changePage(i.lastButtonValue))}),s(11),a(),l(12,"button",2),b("click",function(){h(r);let i=d();return f(i.changePage(i.currentPage+1))}),s(13,"\u0412\u043F\u0435\u0440\u0435\u0434"),a()()}if(t&2){let r=d();c(),u("disabled",r.currentPage===r.firstButtonValue)("ngClass",S(13,dt,r.currentPage===r.firstButtonValue)),c(2),u("ngClass",S(15,z,r.firstButtonValue===r.currentPage)),c(),v(r.firstButtonValue),c(),u("ngIf",r.leftEllipsis),c(),u("ngIf",r.lastButtonValue>2),c(),u("ngIf",r.lastButtonValue>3),c(),u("ngIf",r.lastButtonValue>4),c(),u("ngIf",r.rightEllipsis),c(),u("ngClass",S(17,z,r.lastButtonValue===r.currentPage)),c(),v(r.lastButtonValue),c(),u("disabled",r.currentPage===r.lastButtonValue)("ngClass",S(19,dt,r.currentPage===r.lastButtonValue))}}var pt=(()=>{let o=class o{constructor(e){this.dataService=e,this.loadPage=new X,this.leftEllipsis=!1,this.rightEllipsis=!1,this.firstButtonValue=1,this.changeFirstButton=2,this.changeSecondButton=3,this.changeThirdButton=4}providePage(e){this.loadPage.emit(e)}changePage(e){this.lastButtonValue!=null&&this.currentPage!=e&&(this.currentPage=e,this.calcButtonsValues(e,this.lastButtonValue),this.providePage(e+""))}calcButtonsValues(e,i){this.currentPage=e,this.lastButtonValue!=null&&(this.lastButtonValue<6?(this.changeFirstButton=2,this.changeSecondButton=3,this.changeThirdButton=4,this.leftEllipsis=!1,this.rightEllipsis=!1):e==1?(this.changeFirstButton=2,this.changeSecondButton=3,this.changeThirdButton=4,this.leftEllipsis=!1,this.rightEllipsis=!0):e==i?(this.changeFirstButton=this.lastButtonValue-3,this.changeSecondButton=this.lastButtonValue-2,this.changeThirdButton=this.lastButtonValue-1,this.leftEllipsis=!0,this.rightEllipsis=!1):(e-2<=this.firstButtonValue||e+2>=this.lastButtonValue?e-2==this.firstButtonValue||e+2==this.lastButtonValue?(this.changeFirstButton=e-1,this.changeSecondButton=e,this.changeThirdButton=e+1):e-1==this.firstButtonValue?(this.changeFirstButton=e,this.changeSecondButton=e+1,this.changeThirdButton=e+2):e+1==this.lastButtonValue&&(this.changeFirstButton=e-2,this.changeSecondButton=e-1,this.changeThirdButton=e):(this.changeFirstButton=e-1,this.changeSecondButton=e,this.changeThirdButton=e+1),this.changeFirstButton-1!=this.firstButtonValue?this.leftEllipsis=!0:this.leftEllipsis=!1,this.changeThirdButton+1!=this.lastButtonValue?this.rightEllipsis=!0:this.rightEllipsis=!1))}ngOnInit(){this.dataService.getDataObservable().subscribe(e=>{this.currentPage=e.currentPage,this.lastButtonValue=e.countPages,this.calcButtonsValues(this.currentPage,this.lastButtonValue)}),this.currentPage=this.dataService.currentPage,this.lastButtonValue=this.dataService.countPages,this.calcButtonsValues(this.currentPage,this.lastButtonValue)}};o.\u0275fac=function(i){return new(i||o)(_(F))},o.\u0275cmp=y({type:o,selectors:[["app-paginator"]],outputs:{loadPage:"loadPage"},decls:1,vars:1,consts:[["class","main-container",4,"ngIf"],[1,"main-container"],[1,"arrow-button","button",3,"click","disabled","ngClass"],[1,"number-button","button","firstPage",3,"click","ngClass"],[4,"ngIf"],["class","number-button button",3,"ngClass","click",4,"ngIf"],[1,"number-button","button","lastPage",3,"click","ngClass"],[1,"number-button","button",3,"click","ngClass"]],template:function(i,n){i&1&&x(0,wt,14,21,"div",0),i&2&&u("ngIf",n.lastButtonValue!=1&&n.lastButtonValue!=0&&n.lastButtonValue!=null)},dependencies:[L,M],styles:["body[_ngcontent-%COMP%]{margin:0;background-color:#e3cdbb}.main-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], span[_ngcontent-%COMP%]{margin:0 5px 0 0}.button[_ngcontent-%COMP%]{padding:5px 11px}.button[_ngcontent-%COMP%]:hover{background-color:#a75c1f}.arrow-button[_ngcontent-%COMP%]{border-radius:5px;border:0;background-color:#a75c1f70;transition:background-color .7s ease}.number-button[_ngcontent-%COMP%]{border-radius:5px;border:0;background-color:#e3cdbb;transition:background-color .7s ease}.active[_ngcontent-%COMP%]{background-color:#a75c1f}.disabled[_ngcontent-%COMP%]{display:none;opacity:70%;color:#000}"]});let t=o;return t})();function It(t,o){if(t&1&&(l(0,"div",2),k(1,"img",15),a()),t&2){let r=d();c(),u("src",r.book.formats["image/jpeg"],P)}}function Et(t,o){t&1&&(l(0,"div",2),k(1,"img",16),a())}function Vt(t,o){if(t&1&&(l(0,"a",13),s(1,"\u0447\u0438\u0442\u0430\u0442\u044C"),a()),t&2){let r=d();u("href",r.book.formats["application/pdf"],P)}}function Tt(t,o){if(t&1&&(l(0,"a",13),s(1,"\u0447\u0438\u0442\u0430\u0442\u044C"),a()),t&2){let r=d();u("href",r.book.formats["text/html"],P)}}function jt(t,o){if(t&1&&(l(0,"a",13),s(1,"\u0447\u0438\u0442\u0430\u0442\u044C"),a()),t&2){let r=d();u("href",r.book.formats["text/html; charset=iso-8859-1"],P)}}function Dt(t,o){if(t&1&&(l(0,"button",17)(1,"a",13),s(2,"\u0441\u043A\u0430\u0447\u0430\u0442\u044C"),a()()),t&2){let r=d();c(),u("href",r.book.formats["application/epub+zip"],P)}}var mt=(()=>{let o=class o{constructor(e,i,n,p){this.renderer=e,this.route=i,this.dataService=n,this.yourBooksService=p,this.query={}}ngOnInit(){this.dataService.getDataObservable().subscribe(i=>{this.query=i.query}),this.query=this.dataService.query;let e=this.dataService.listBookPage;this.route.params.subscribe(i=>{let n=e.filter(p=>p.id==i.id)[0];this.book=n})}addBookYourself(e){let i=e.id;this.yourBooksService.listBooks.find(p=>p.id===i)==null&&this.yourBooksService.addBook(e)}};o.\u0275fac=function(i){return new(i||o)(_(W),_(V),_(F),_(Y))},o.\u0275cmp=y({type:o,selectors:[["app-item"]],decls:32,vars:9,consts:[[1,"item-align-wrapper"],[1,"main-image-container"],[1,"image-container"],[1,"arrow-block"],["routerLink","/book-search",3,"queryParams"],["src","../../../../assets/back-arrow.svg"],[1,"main-container"],[1,"info-container"],[1,"button-container"],[1,"add-book-conteiner"],[1,"button","button-add",3,"click","disabled"],[1,"read-container"],[1,"button","button-read"],["target","_blank",3,"href"],["class","button button-download",4,"ngIf"],[3,"src"],["src","../../../../assets/defaultBook.png"],[1,"button","button-download"]],template:function(i,n){i&1&&(l(0,"div",0)(1,"div",1),x(2,It,2,1,"div",2)(3,Et,2,0),l(4,"div",3)(5,"a",4),k(6,"img",5),a()()(),l(7,"div",6)(8,"div",7)(9,"ul")(10,"li")(11,"b"),s(12,"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435"),a(),s(13),a(),l(14,"li")(15,"b"),s(16,"\u0410\u0432\u0442\u043E\u0440\u044B"),a(),s(17),a(),l(18,"li")(19,"b"),s(20,"\u0422\u0435\u043C\u044B"),a(),s(21),a()()(),l(22,"div",8)(23,"div",9)(24,"button",10),b("click",function(){return n.addBookYourself(n.book)}),s(25),a()(),l(26,"div",11)(27,"button",12),x(28,Vt,2,1,"a",13)(29,Tt,2,1)(30,jt,2,1),a()(),x(31,Dt,3,1,"button",14),a()()()),i&2&&(c(2),j(2,n.book.formats["image/jpeg"]?2:3),c(3),u("queryParams",n.query),c(8),w(`:
`,n.book.title,""),c(4),w(`:
`,n.book.authorsFormat,""),c(4),w(`:
`,n.book.subjectsFormat,""),c(3),u("disabled",!!n.book.add),c(),v(n.book.add?"\u0434\u043E\u0431\u0430\u0432\u043B\u0435\u043D\u043E":"\u0434\u043E\u0431\u0430\u0432\u0438\u0442\u044C"),c(3),j(28,n.book.formats["application/pdf"]?28:n.book.formats["text/html"]?29:30),c(3),u("ngIf",n.book.formats["application/epub+zip"]))},dependencies:[tt,M],styles:["body[_ngcontent-%COMP%]{margin:0;background-color:#e3cdbb}.main-container[_ngcontent-%COMP%]{border-radius:6px;background-color:#e1d9d9;border:1px solid black;margin:15px 0;display:flex;padding:20px;font-size:20px;flex-direction:column;width:fit-content}.item-align-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.arrow-block[_ngcontent-%COMP%]{width:fit-content;position:fixed;left:15px}.arrow-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px}.info-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-content:center;justify-content:space-between;align-items:flex-start;flex-grow:1}.info-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:0;list-style-type:none}.info-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:15px;white-space:pre-wrap}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.button-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-right:15px}.button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-right:0}.button[_ngcontent-%COMP%]{height:auto;border-radius:5px;border:1px solid #7e7c7c;background-color:#fff;transition:background-color .7s ease;font-size:16px;padding:8px;width:98.0312px}.button[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#000;display:block;padding:8px;cursor:context-menu}.button-read[_ngcontent-%COMP%], .button-download[_ngcontent-%COMP%]{padding:0;border-radius:5px}.button-read[_ngcontent-%COMP%]:hover, .button-download[_ngcontent-%COMP%]:hover{background-color:#e3cdbb;border:2px solid black;padding:0;border-radius:5px}.button-read[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%], .button-download[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{padding:7px}.button-add[_ngcontent-%COMP%]:disabled{border:2px solid green;color:#000;padding:7px;background-color:#e3cdbb}.button-add[_ngcontent-%COMP%]:not(:disabled):hover{background-color:#e3cdbb;border:2px solid black;padding:7px}.add-book-conteiner[_ngcontent-%COMP%]{align-self:end}.image-container[_ngcontent-%COMP%]{display:flex}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px;max-height:300px}"]});let t=o;return t})();var Nt=[{path:"",component:J},{path:"book-info/:id",component:mt}],K=(()=>{let o=class o{};o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=E({type:o}),o.\u0275inj=I({imports:[B.forChild(Nt),B]});let t=o;return t})();var ht=(()=>{let o=class o{};o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=E({type:o}),o.\u0275inj=I({providers:[B],imports:[K,G]});let t=o;return t})();var me=(()=>{let o=class o{};o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=E({type:o}),o.\u0275inj=I({providers:[B],imports:[K,G,ct,B,ht]});let t=o;return t})();Z(J,[H,M,rt,at,et,ot,it,nt,pt,ut],[]);export{ht as a,me as b};
