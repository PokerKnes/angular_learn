import './polyfills.server.mjs';
import{a as M,b as oe,c as q,d as ie,e as H,f as U,j as re}from"./chunk-SGFQZOFB.mjs";import{$ as l,Ea as j,F as P,Fa as A,G as s,Ga as O,H as _,Ha as te,Ia as ne,N as h,O as X,P as d,R as w,S as c,T as a,U as y,V as I,W as Y,Wa as N,X as b,Y as p,Z as u,Za as R,_a as W,aa as x,ab as $,ba as B,ca as D,da as L,ea as z,h as V,ia as f,ja as Z,ka as ee,n as v,o as E,r as g,s as m,w as T}from"./chunk-64YZXNQ6.mjs";var ae=o=>({disabled:o}),F=o=>({active:o});function ue(o,r){o&1&&(c(0,"span"),l(1,"..."),a())}function de(o,r){if(o&1){let n=b();c(0,"button",7),p("click",function(){g(n);let t=u(2);return m(t.changePage(t.changeFirstButton))}),l(1),a()}if(o&2){let n=u(2);d("ngClass",f(2,F,n.changeFirstButton===n.currentPage)),s(),x(n.changeFirstButton)}}function pe(o,r){if(o&1){let n=b();c(0,"button",7),p("click",function(){g(n);let t=u(2);return m(t.changePage(t.changeSecondButton))}),l(1),a()}if(o&2){let n=u(2);d("ngClass",f(2,F,n.changeSecondButton===n.currentPage)),s(),x(n.changeSecondButton)}}function ge(o,r){if(o&1){let n=b();c(0,"button",7),p("click",function(){g(n);let t=u(2);return m(t.changePage(t.changeThirdButton))}),l(1),a()}if(o&2){let n=u(2);d("ngClass",f(2,F,n.changeThirdButton===n.currentPage)),s(),x(n.changeThirdButton)}}function me(o,r){o&1&&(c(0,"span"),l(1,"..."),a())}function he(o,r){if(o&1){let n=b();c(0,"div",1)(1,"button",2),p("click",function(){g(n);let t=u();return m(t.changePage(t.currentPage-1))}),l(2,"\u041D\u0430\u0437\u0430\u0434"),a(),c(3,"button",3),p("click",function(){g(n);let t=u();return m(t.changePage(t.firstButtonValue))}),l(4),a(),h(5,ue,2,0,"span",4)(6,de,2,4,"button",5)(7,pe,2,4,"button",5)(8,ge,2,4,"button",5)(9,me,2,0,"span",4),c(10,"button",6),p("click",function(){g(n);let t=u();return m(t.changePage(t.lastButtonValue))}),l(11),a(),c(12,"button",2),p("click",function(){g(n);let t=u();return m(t.changePage(t.currentPage+1))}),l(13,"\u0412\u043F\u0435\u0440\u0435\u0434"),a()()}if(o&2){let n=u();s(),d("disabled",n.currentPage===n.firstButtonValue)("ngClass",f(13,ae,n.currentPage===n.firstButtonValue)),s(2),d("ngClass",f(15,F,n.firstButtonValue===n.currentPage)),s(),x(n.firstButtonValue),s(),d("ngIf",n.leftEllipsis),s(),d("ngIf",n.lastButtonValue>2),s(),d("ngIf",n.lastButtonValue>3),s(),d("ngIf",n.lastButtonValue>4),s(),d("ngIf",n.rightEllipsis),s(),d("ngClass",f(17,F,n.lastButtonValue===n.currentPage)),s(),x(n.lastButtonValue),s(),d("disabled",n.currentPage===n.lastButtonValue)("ngClass",f(19,ae,n.currentPage===n.lastButtonValue))}}var ce=(()=>{let r=class r{constructor(e){this.yourBooksService=e,this.loadPage=new T,this.leftEllipsis=!1,this.rightEllipsis=!1,this.firstButtonValue=1,this.changeFirstButton=2,this.changeSecondButton=3,this.changeThirdButton=4}providePage(e){this.loadPage.emit(""+e)}changePage(e){console.log("changePage",e),this.lastButtonValue!=null&&this.currentPage!=e&&(this.currentPage=e,this.calcButtonsValues(e,this.lastButtonValue),this.providePage(e+""))}calcButtonsValues(e,t){this.currentPage=e,this.lastButtonValue!=null&&(this.lastButtonValue<6?(this.changeFirstButton=2,this.changeSecondButton=3,this.changeThirdButton=4,this.leftEllipsis=!1,this.rightEllipsis=!1):e==1?(this.changeFirstButton=2,this.changeSecondButton=3,this.changeThirdButton=4,this.leftEllipsis=!1,this.rightEllipsis=!0):e==t?(this.changeFirstButton=this.lastButtonValue-3,this.changeSecondButton=this.lastButtonValue-2,this.changeThirdButton=this.lastButtonValue-1,this.leftEllipsis=!0,this.rightEllipsis=!1):(e-2<=this.firstButtonValue||e+2>=this.lastButtonValue?e-2==this.firstButtonValue||e+2==this.lastButtonValue?(this.changeFirstButton=e-1,this.changeSecondButton=e,this.changeThirdButton=e+1):e-1==this.firstButtonValue?(this.changeFirstButton=e,this.changeSecondButton=e+1,this.changeThirdButton=e+2):e+1==this.lastButtonValue&&(this.changeFirstButton=e-2,this.changeSecondButton=e-1,this.changeThirdButton=e):(this.changeFirstButton=e-1,this.changeSecondButton=e,this.changeThirdButton=e+1),this.changeFirstButton-1!=this.firstButtonValue?this.leftEllipsis=!0:this.leftEllipsis=!1,this.changeThirdButton+1!=this.lastButtonValue?this.rightEllipsis=!0:this.rightEllipsis=!1))}ngOnInit(){this.yourBooksService.getDataObservable().subscribe(e=>{this.currentPage=e.currentPage,this.lastButtonValue=e.countPages,this.calcButtonsValues(this.currentPage,this.lastButtonValue)}),this.currentPage=this.yourBooksService.currentPage,this.lastButtonValue=this.yourBooksService.countPages,this.calcButtonsValues(this.currentPage,this.lastButtonValue)}};r.\u0275fac=function(t){return new(t||r)(_(M))},r.\u0275cmp=v({type:r,selectors:[["app-your-books-paginator"]],outputs:{loadPage:"loadPage"},decls:1,vars:1,consts:[["class","main-container",4,"ngIf"],[1,"main-container"],[1,"arrow-button","button",3,"click","disabled","ngClass"],[1,"number-button","button","firstPage",3,"click","ngClass"],[4,"ngIf"],["class","number-button button",3,"ngClass","click",4,"ngIf"],[1,"number-button","button","lastPage",3,"click","ngClass"],[1,"number-button","button",3,"click","ngClass"]],template:function(t,i){t&1&&h(0,he,14,21,"div",0),t&2&&d("ngIf",i.lastButtonValue!=1&&i.lastButtonValue!=0&&i.lastButtonValue!=null)},dependencies:[j,O],styles:["body[_ngcontent-%COMP%]{margin:0;background-color:#e3cdbb}.main-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], span[_ngcontent-%COMP%]{margin:0 5px 0 0}.button[_ngcontent-%COMP%]{padding:5px 11px}.button[_ngcontent-%COMP%]:hover{background-color:#a75c1f}.arrow-button[_ngcontent-%COMP%]{border-radius:5px;border:0;background-color:#a75c1f70;transition:background-color .7s ease}.number-button[_ngcontent-%COMP%]{border-radius:5px;border:0;background-color:#e3cdbb;transition:background-color .7s ease}.active[_ngcontent-%COMP%]{background-color:#a75c1f}.disabled[_ngcontent-%COMP%]{display:none;opacity:70%;color:#000}"]});let o=r;return o})();var _e=o=>({read:o});function xe(o,r){if(o&1){let n=b();c(0,"div",10),p("click",function(){g(n);let t=u().$implicit,i=u(2);return m(i.redirectTo(t))}),y(1,"img",11),a()}if(o&2){let n=u().$implicit;s(),d("src",n.formats["image/jpeg"],P)}}function fe(o,r){if(o&1){let n=b();c(0,"div",10),p("click",function(){g(n);let t=u().$implicit,i=u(2);return m(i.redirectTo(t))}),y(1,"img",12),a()}}function Ce(o,r){if(o&1){let n=b();I(0),c(1,"div",2),h(2,xe,2,1,"div",3)(3,fe,2,0),c(4,"div",4)(5,"ul")(6,"li")(7,"b"),l(8,"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435"),a(),l(9),a(),c(10,"li")(11,"b"),l(12,"\u0410\u0432\u0442\u043E\u0440\u044B"),a(),l(13),a()(),c(14,"div",5)(15,"button",6),p("click",function(){let t=g(n).$implicit,i=u(2);return m(i.deleteBookYourself(t))}),l(16,"\u0443\u0434\u0430\u043B\u0438\u0442\u044C \u043A\u043D\u0438\u0433\u0443 \u0438\u0437 \u0441\u043F\u0438\u0441\u043A\u0430"),a(),c(17,"div",7)(18,"input",8),p("click",function(t){let i=g(n).$implicit,k=u(2);return m(k.readHandler(t,i))}),a(),c(19,"label",9),l(20),a()()()()(),Y()}if(o&2){let n=r.$implicit,e=r.index;s(),d("ngClass",f(8,_e,n.read)),s(),w(2,n.formats["image/jpeg"]?2:3),s(7),B(`:
`,n.title,""),s(4),B(`:
`,n.authorsFormat,""),s(5),d("checked",n.read),X("id","checkbox-"+e),s(),X("for","checkbox-"+e),s(),x(n.read?"\u043F\u0440\u043E\u0447\u0438\u0442\u0430\u043D\u0430":"\u043D\u0435 \u043F\u0440\u043E\u0447\u0438\u0442\u0430\u043D\u0430")}}function Be(o,r){if(o&1){let n=b();h(0,Ce,21,10,"ng-container",0),c(1,"app-your-books-paginator",1),p("loadPage",function(t){g(n);let i=u();return m(i.navigationPages(t))}),a()}if(o&2){let n=u();d("ngForOf",n.viewListBooks)}}function ve(o,r){if(o&1&&(c(0,"div",13)(1,"span"),l(2,"\u0412\u044B \u043D\u0435 \u0434\u043E\u0431\u0430\u0432\u0438\u043B\u0438 \u043D\u0438 \u043E\u0434\u043D\u043E\u0439 \u043A\u043D\u0438\u0433\u0438. \u041F\u0435\u0440\u0435\u0439\u0434\u0438\u0442\u0435 "),c(3,"a",14),l(4,"\u0441\u044E\u0434\u0430"),a(),l(5," \u0434\u043B\u044F \u043F\u043E\u0438\u0441\u043A\u0430 \u043B\u0438\u0442\u0435\u0440\u0430\u0442\u0443\u0440\u044B."),a()()),o&2){let n=u();s(3),d("queryParams",n.query)}}function Pe(o,r){if(o&1&&(c(0,"div",15)(1,"span"),l(2),a()()),o&2){let n=u();s(2),x(n.readFlag?"\u041D\u0435\u0442\u0443 \u043D\u0438 1 \u043E\u0434\u043D\u043E\u0439 \u043F\u0440\u043E\u0447\u0438\u0442\u0430\u043D\u043D\u043E\u0439 \u043A\u043D\u0438\u0433\u0438.":"\u041D\u0435\u0442\u0443 \u043D\u0438 1\u043E\u0439 \u043D\u0435\u043F\u0440\u043E\u0447\u0438\u0442\u0430\u043D\u043D\u043E\u0439 \u043A\u043D\u0438\u0433\u0438.")}}var se=(()=>{let r=class r{constructor(e,t,i,k){this.dataService=e,this.router=t,this.route=i,this.yourBooksService=k,this.updateFilter=new T,this.query={},this.currentPage=1,this.countBooks=1,this.countPages=1}deleteBookYourself(e){this.yourBooksService.deleteBook(e),this.listBooks=this.yourBooksService.listBooks;let t=Math.ceil(this.listBooks.length/10);this.countBooks=this.listBooks.length,this.countPages=t,this.currentPage<=t?this.calcViewListBook(this.currentPage):t===1?this.router.navigate(["your-books"]):this.router.navigate([`your-books/${t}`])}readHandler(e,t){let k=e.target.checked;this.yourBooksService.setRead(t.id,k),this.listBooks=this.yourBooksService.listBooks,this.updateFilter.emit()}navigationPages(e){e==="1"?this.router.navigate(["your-books"]):this.router.navigate([`your-books/${e}`])}ngOnInit(){this.yourBooksService.getDataObservableView().subscribe(e=>{this.cacheListBooks=this.yourBooksService.cacheListBooks,this.listBooks=e.listBooks,this.currentPage=this.yourBooksService.currentPage,this.countPages=Math.ceil(this.listBooks.length/10),this.calcViewListBook(this.currentPage)}),this.cacheListBooks=this.yourBooksService.cacheListBooks,this.query=this.dataService.query,this.route.params.subscribe(e=>{let t=1;Object.keys(e).length!==0&&(t=+e.page),this.listBooks=this.yourBooksService.listBooks,this.countPages=Math.ceil(this.listBooks.length/10),this.calcViewListBook(t)})}calcViewListBook(e){this.countBooks=this.listBooks.length,this.countPages=Math.ceil(this.listBooks.length/10),e>this.countPages&&this.countPages>0&&(e=this.countPages),this.currentPage=e,this.yourBooksService.updateData(this.countPages,this.currentPage);let t=e*10>this.listBooks.length?this.listBooks.length:e*10,i=this.listBooks.slice((e-1)*10,t);this.viewListBooks=i}redirectTo(e){this.router.navigate([`book-info/${e.id}`],{relativeTo:this.route})}};r.\u0275fac=function(t){return new(t||r)(_(oe),_(R),_(N),_(M))},r.\u0275cmp=v({type:r,selectors:[["app-your-list-books"]],inputs:{readFlag:"readFlag"},outputs:{updateFilter:"updateFilter"},decls:3,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"loadPage"],[1,"main-container",3,"ngClass"],[1,"image-container"],[1,"info-container"],[1,"buttons-conteiner"],[1,"delete-button",3,"click"],[1,"checkbox-wraper"],["type","checkbox",1,"custom-checkbox",3,"click","checked"],[1,"checkbox-label"],[1,"image-container",3,"click"],[3,"src"],["src","../../../../assets/defaultBook.png"],[1,"not-exist-hint","hint"],["routerLink","/book-search",3,"queryParams"],[1,"read-hint","hint"]],template:function(t,i){t&1&&h(0,Be,2,1)(1,ve,6,1)(2,Pe,3,1),t&2&&w(0,i.viewListBooks.length!==0?0:i.cacheListBooks.length==0?1:2)},dependencies:[j,A,W,ce],styles:['body[_ngcontent-%COMP%]{margin:0;background-color:#e3cdbb}.main-container[_ngcontent-%COMP%]{border-radius:6px;background-color:#e1d9d9;border:1px solid black;width:fit-content;margin:15px 0;display:flex;padding:20px;width:910.578px;font-size:18px}.info-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-content:center;justify-content:space-between;align-items:flex-start;flex-grow:1;margin-left:20px}.info-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:0;list-style-type:none}.info-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:15px;white-space:pre-wrap}.delete-button[_ngcontent-%COMP%]{height:auto;border-radius:5px;border:1px solid #7e7c7c;background-color:#fff;transition:background-color .7s ease;font-size:16px;padding:8px;height:36px}.delete-button[_ngcontent-%COMP%]:hover{background-color:#e3cdbb;border:2px solid black;font-size:16px;padding:7px}.already-add-hint[_ngcontent-%COMP%]{border-radius:6px;background-color:#e1d9d9;border:1px solid black;width:fit-content;margin:0;padding:6px;border:2px solid green;font-size:17px;background-color:#e3cdbb}.buttons-conteiner[_ngcontent-%COMP%]{align-self:end;display:flex}.buttons-conteiner[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px}.image-container[_ngcontent-%COMP%]{display:flex;height:fit-content}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;max-height:150px}.custom-checkbox[_ngcontent-%COMP%]{position:absolute;z-index:-1;opacity:0}.main-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{margin-right:10px}.checkbox-label[_ngcontent-%COMP%]{display:inline-flex;align-items:center;-webkit-user-select:none;user-select:none;transition:border-color .7s ease;font-size:19px}.checkbox-wraper[_ngcontent-%COMP%]{display:flex;min-width:152.83px}.checkbox-label[_ngcontent-%COMP%]:before{content:"";display:inline-block;width:34px;height:34px;flex-shrink:0;flex-grow:0;border:1px solid black;border-radius:.25em;margin-right:.5em;background-repeat:no-repeat;background-position:center center;background-size:50% 50%;background-color:#fff;transition:background-color .7s ease}.custom-checkbox[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before{background-color:#e3cdbb;background-image:url("./media/checkMark-FYO6V4AX.svg");background-size:cover;border:2px solid black;width:32px;height:32px}.custom-checkbox[_ngcontent-%COMP%]:not(:disabled):not(:checked) + label[_ngcontent-%COMP%]:hover:before{border:2px solid black;width:32px;height:32px;background-color:#e3cdbb}.read[_ngcontent-%COMP%]{border:2px solid green}.hint[_ngcontent-%COMP%]{padding:10px;border-radius:6px;background-color:#e1d9d9;border:1px solid black;width:fit-content;margin:15px 0}']});let o=r;return o})();function we(o,r){if(o&1&&(c(0,"div",2),y(1,"img",24),a()),o&2){let n=u();s(),d("src",n.book.formats["image/jpeg"],P)}}function Oe(o,r){o&1&&(c(0,"div",2),y(1,"img",25),a())}function Fe(o,r){if(o&1&&(c(0,"a",14),l(1,"\u0447\u0438\u0442\u0430\u0442\u044C"),a()),o&2){let n=u();d("href",n.book.formats["application/pdf"],P)}}function Se(o,r){if(o&1&&(c(0,"a",14),l(1,"\u0447\u0438\u0442\u0430\u0442\u044C"),a()),o&2){let n=u();d("href",n.book.formats["text/html"],P)}}function Ve(o,r){if(o&1&&(c(0,"a",14),l(1,"\u0447\u0438\u0442\u0430\u0442\u044C"),a()),o&2){let n=u();d("href",n.book.formats["text/html; charset=iso-8859-1"],P)}}function Ee(o,r){if(o&1&&(c(0,"button",26)(1,"a",14),l(2,"\u0441\u043A\u0430\u0447\u0430\u0442\u044C"),a()()),o&2){let n=u();s(),d("href",n.book.formats["application/epub+zip"],P)}}function Te(o,r){if(o&1){let n=b();c(0,"div",32)(1,"div",33)(2,"p"),l(3),Z(4,"date"),a(),c(5,"p"),l(6),a()(),c(7,"button",34),p("click",function(){let t=g(n).index,i=u(2);return m(i.deleteComment(i.book.id,t))}),l(8,"\u0443\u0434\u0430\u043B\u0438\u0442\u044C"),a()()}if(o&2){let n=r.$implicit;s(3),B("\u0414\u0430\u0442\u0430: ",ee(4,2,n.date,"yyyy-MM-dd HH:mm:ss"),""),s(3),B("\u043A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u0439: ",n.comment,"")}}function Ie(o,r){if(o&1){let n=b();I(0),c(1,"label",27),l(2,"\u041A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u0438:"),a(),c(3,"div",28)(4,"textarea",29),z("ngModelChange",function(t){g(n);let i=u();return L(i.comment,t)||(i.comment=t),m(t)}),a(),c(5,"button",30),p("click",function(){g(n);let t=u();return m(t.addComment(t.comment))}),l(6,"\u0434\u043E\u0431\u0430\u0432\u0438\u0442\u044C"),a()(),h(7,Te,9,5,"div",31),Y()}if(o&2){let n=u();s(4),D("ngModel",n.comment),s(3),d("ngForOf",n.book.messages)}}var K=(()=>{let r=class r{constructor(e,t,i){this.yourBooksService=e,this.route=t,this.router=i,this.comment="",this.spoilerToggle=!1}ngOnInit(){let e=this.yourBooksService.cacheListBooks;this.route.params.subscribe(t=>{let i="";t.page!==void 0&&(i=t.page),this.page=i;let k=e.filter(C=>C.id==t.id)[0];this.book=k,this.checkboxValue=this.book.read})}deleteComment(e,t){this.yourBooksService.deleteComment(e,t)}addComment(e){e!==""&&(this.yourBooksService.addComment(e,this.book.id),this.comment="")}readHandler(e){this.yourBooksService.setRead(e.id,!this.checkboxValue)}deleteBook(e){this.yourBooksService.deleteBook(e);let t=+this.page;t==0&&(t=1);let i=Math.ceil(this.yourBooksService.listBooks.length/10);t>i&&(t=i),t===1?this.router.navigate(["your-books"]):this.router.navigate([`your-books/${t}`])}};r.\u0275fac=function(t){return new(t||r)(_(M),_(N),_(R))},r.\u0275cmp=v({type:r,selectors:[["app-your-book-info"]],decls:42,vars:12,consts:[[1,"item-align-wrapper"],[1,"main-image-container"],[1,"image-container"],[1,"arrow-block"],[3,"routerLink"],["src","../../../../assets/back-arrow.svg"],[1,"container-again"],[1,"main-container"],[1,"info-container"],[1,"button-container"],[1,"delete-book-conteiner"],[1,"button-delete",3,"click"],[1,"read-container"],[1,"button","button-read"],["target","_blank",3,"href"],["class","button button-download",4,"ngIf"],[1,"checkbox-wraper"],["type","checkbox","id","checkbox",1,"checkbox","custom-checkbox",3,"ngModelChange","click","ngModel","checked"],["for","checkbox",1,"label","checkbox-label"],[1,"comment-checkbox-wraper"],["type","checkbox","id","comment-checkbox",1,"checkbox","comment-checkbox",3,"ngModelChange","ngModel"],["for","comment-checkbox",1,"label","comment-checkbox-label"],[1,"comment-container"],[4,"ngIf"],[3,"src"],["src","../../../../assets/defaultBook.png"],[1,"button","button-download"],["for","text-area",1,"label-text-area"],["id","text-area",1,"textarea-container"],["cols","60","rows","15",3,"ngModelChange","ngModel"],[1,"add-comment-button","button",3,"click"],["class","comment-block",4,"ngFor","ngForOf"],[1,"comment-block"],[1,"comment-wrapper"],[1,"delete-comment-button","button",3,"click"]],template:function(t,i){t&1&&(c(0,"div",0)(1,"div",1),h(2,we,2,1,"div",2)(3,Oe,2,0),c(4,"div",3)(5,"a",4),y(6,"img",5),a()()(),c(7,"div",6)(8,"div",7)(9,"div",8)(10,"ul")(11,"li")(12,"b"),l(13,"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435"),a(),l(14),a(),c(15,"li")(16,"b"),l(17,"\u0410\u0432\u0442\u043E\u0440\u044B"),a(),l(18),a(),c(19,"li")(20,"b"),l(21,"\u0422\u0435\u043C\u044B"),a(),l(22),a()()(),c(23,"div",9)(24,"div",10)(25,"button",11),p("click",function(){return i.deleteBook(i.book)}),l(26,"\u0443\u0434\u0430\u043B\u0438\u0442\u044C"),a()(),c(27,"div",12)(28,"button",13),h(29,Fe,2,1,"a",14)(30,Se,2,1)(31,Ve,2,1),a()(),h(32,Ee,3,1,"button",15),c(33,"div",16)(34,"input",17),z("ngModelChange",function(C){return L(i.checkboxValue,C)||(i.checkboxValue=C),C}),p("click",function(){return i.readHandler(i.book)}),a(),c(35,"label",18),l(36),a()()()(),c(37,"div",19)(38,"input",20),z("ngModelChange",function(C){return L(i.spoilerToggle,C)||(i.spoilerToggle=C),C}),a(),y(39,"label",21),a()(),c(40,"div",22),h(41,Ie,8,2,"ng-container",23),a()()),t&2&&(s(2),w(2,i.book.formats["image/jpeg"]?2:3),s(3),d("routerLink","/your-books/"+i.page),s(9),B(`:
`,i.book.title,""),s(4),B(`:
`,i.book.authorsFormat,""),s(4),B(`:
`,i.book.subjectsFormat,""),s(7),w(29,i.book.formats["application/pdf"]?29:i.book.formats["text/html"]?30:31),s(3),d("ngIf",i.book.formats["application/epub+zip"]),s(2),D("ngModel",i.checkboxValue),d("checked",i.checkboxValue),s(2),x(i.book.read?"\u043F\u0440\u043E\u0447\u0438\u0442\u0430\u043D\u0430":"\u043D\u0435 \u043F\u0440\u043E\u0447\u0438\u0442\u0430\u043D\u0430"),s(2),D("ngModel",i.spoilerToggle),s(3),d("ngIf",i.spoilerToggle))},dependencies:[A,O,ie,q,H,U,W,te],styles:['body[_ngcontent-%COMP%]{margin:0;background-color:#e3cdbb}.main-container[_ngcontent-%COMP%]{border-radius:6px;background-color:#e1d9d9;border:1px solid black;margin:15px 0;display:flex;padding:20px;font-size:20px;flex-direction:column;width:fit-content;min-width:558px}.item-align-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.comment-wrapper[_ngcontent-%COMP%]{font-size:18px;margin-right:15px}.main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.arrow-block[_ngcontent-%COMP%]{width:fit-content;position:fixed;left:15px}.arrow-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px}.info-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-content:center;justify-content:space-between;align-items:flex-start;flex-grow:1}.info-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:0;list-style-type:none}.info-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:15px;white-space:pre-wrap}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.button-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-right:15px}.button-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child{margin-right:0}.button[_ngcontent-%COMP%]{height:auto;border-radius:5px;border:1px solid #7e7c7c;background-color:#fff;transition:background-color .7s ease;font-size:16px;padding:8px;width:90px}.button[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#000;display:block;padding:8px;cursor:context-menu}.button-delete[_ngcontent-%COMP%], .add-comment-button[_ngcontent-%COMP%]{height:36px;border-radius:5px;border:1px solid #7e7c7c;background-color:#fff;transition:background-color .7s ease;font-size:16px;padding:8px;width:90px}.delete-comment-button[_ngcontent-%COMP%]{height:36px;border-radius:5px;border:1px solid #7e7c7c;background-color:#fff;transition:background-color .7s ease;font-size:16px;padding:8px;min-width:90px;align-self:end}.button-delete[_ngcontent-%COMP%]:hover, .add-comment-button[_ngcontent-%COMP%]:hover, .delete-comment-button[_ngcontent-%COMP%]:hover{background-color:#e3cdbb;border:2px solid black;padding:0 5px}.button[_ngcontent-%COMP%]{padding:0;border-radius:5px}.button[_ngcontent-%COMP%]:hover{background-color:#e3cdbb;border:2px solid black;padding:0;border-radius:5px}.button[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{padding:7px}.comment-block[_ngcontent-%COMP%]{padding:10px;border-radius:6px;background-color:#e1d9d9;border:1px solid black;width:fit-content;margin:15px 0;display:flex;min-width:600px;justify-content:space-between}.comment-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{margin:0 0 5px}.comment-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin:0}.add-comment-button[_ngcontent-%COMP%]:hover{background-color:#a75c1f;color:#fff}.image-container[_ngcontent-%COMP%]{display:flex}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px;max-height:300px}.add-comment-button[_ngcontent-%COMP%]{margin-top:10px}.textarea-container[_ngcontent-%COMP%]{margin:0 0 15px;display:flex;flex-direction:column;min-width:600px}.label-text-area[_ngcontent-%COMP%]{font-size:18px;display:inline-block;margin:10px 0 5px}textarea[_ngcontent-%COMP%]{font-size:16px;background-color:#f0f0f0;color:#333;padding:10px;border:2px solid black;border-radius:8px;word-wrap:break-word;overflow:auto;resize:none}.checkbox[_ngcontent-%COMP%]{position:absolute;z-index:-1;opacity:0}.label[_ngcontent-%COMP%]{display:inline-flex;align-items:center;-webkit-user-select:none;user-select:none;transition:border-color .7s ease;font-size:19px}.checkbox-wraper[_ngcontent-%COMP%]{display:flex;min-width:152.83px}.comment-checkbox-wraper[_ngcontent-%COMP%]{display:flex}.checkbox-label[_ngcontent-%COMP%]:before{content:"";display:inline-block;width:34px;height:34px;flex-shrink:0;flex-grow:0;border:1px solid black;border-radius:.25em;margin-right:.5em;background-repeat:no-repeat;background-position:center center;background-size:50% 50%;background-color:#fff;transition:background-color .7s ease}.custom-checkbox[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before{background-color:#e3cdbb;background-image:url("./media/checkMark-FYO6V4AX.svg");background-size:cover;border:2px solid black;width:32px;height:32px}.custom-checkbox[_ngcontent-%COMP%]:not(:disabled):not(:checked) + label[_ngcontent-%COMP%]:hover:before{border:2px solid black;width:32px;height:32px;background-color:#e3cdbb}.comment-checkbox-label[_ngcontent-%COMP%]:before{content:"";display:inline-block;width:34px;height:34px;flex-shrink:0;flex-grow:0;background-image:url("./media/checkMark-FYO6V4AX.svg");background-size:cover;border-radius:.25em;background-repeat:no-repeat;background-position:center center;background-color:#e3cdbb;transition:opacity .7s ease}.comment-checkbox[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before{background-color:#e3cdbb;background-image:url("./media/checkMark-FYO6V4AX.svg");transform:rotate(180deg);background-size:cover}.comment-checkbox[_ngcontent-%COMP%]:not(:disabled):not(:checked) + label[_ngcontent-%COMP%]:hover:before{opacity:40%}.comment-checkbox[_ngcontent-%COMP%]:not(:disabled):checked + label[_ngcontent-%COMP%]:hover:before{opacity:40%}.container-again[_ngcontent-%COMP%]{display:flex;flex-direction:column}']});let o=r;return o})();function Ye(o,r){if(o&1){let n=b();c(0,"div",2)(1,"div")(2,"input",3),p("click",function(t){g(n);let i=u();return m(i.reverseCheckBox(t))}),a(),c(3,"label",4),l(4,"\u043F\u0440\u043E\u0447\u0438\u0442\u0430\u043D\u043D\u044B\u0435"),a()(),c(5,"div")(6,"input",5),p("click",function(t){g(n);let i=u();return m(i.reverseCheckBox(t))}),a(),c(7,"label",6),l(8,"\u043D\u0435\u043F\u0440\u043E\u0447\u0438\u0442\u0430\u043D\u043D\u044B\u0435"),a()()()}if(o&2){let n=u();s(2),d("ngModel",n.readFlag)("checked",n.readFlag),s(4),d("ngModel",n.unreadFlag)("checked",n.unreadFlag)}}var Q=(()=>{let r=class r{constructor(e){this.yourBooksService=e,this.readFlag=!1,this.unreadFlag=!1,this.bookList=this.yourBooksService.cacheListBooks}reverseCheckBox(e){let t=e.target,i=t.value,k=t.checked;!this.readFlag&&!this.unreadFlag?i=="read"?this.readFlag=!this.readFlag:this.unreadFlag=!this.unreadFlag:k?(this.readFlag=!this.readFlag,this.unreadFlag=!this.unreadFlag):i=="read"?this.readFlag=!this.readFlag:this.unreadFlag=!this.unreadFlag,this.yourBooksService.readFlag=this.readFlag,this.yourBooksService.unreadFlag=this.unreadFlag,this.readFilter(this.readFlag,this.unreadFlag)}readFilter(e,t){!e&&!t?this.yourBooksService.readFilter("all"):e?this.yourBooksService.readFilter("read"):this.yourBooksService.readFilter("unread")}updateFilter(){this.readFilter(this.readFlag,this.unreadFlag)}ngOnInit(){this.yourBooksService.getDataObservable().subscribe(e=>{}),this.readFlag=this.yourBooksService.readFlag,this.unreadFlag=this.yourBooksService.unreadFlag}};r.\u0275fac=function(t){return new(t||r)(_(M))},r.\u0275cmp=v({type:r,selectors:[["app-your-books-filters"]],decls:2,vars:2,consts:[["class","main-container",4,"ngIf"],[3,"updateFilter","readFlag"],[1,"main-container"],["type","checkbox","value","read","id","readCheckbox",1,"custom-checkbox",3,"click","ngModel","checked"],["for","readCheckbox",1,"checkbox-label"],["type","checkbox","value","unread","id","unreadCheckbox",1,"custom-checkbox",3,"click","ngModel","checked"],["for","unreadCheckbox",1,"checkbox-label"]],template:function(t,i){t&1&&(h(0,Ye,9,4,"div",0),c(1,"app-your-list-books",1),p("updateFilter",function(){return i.updateFilter()}),a()),t&2&&(d("ngIf",i.bookList.length!==0),s(),d("readFlag",i.readFlag))},dependencies:[O,q,H,U,se],styles:['body[_ngcontent-%COMP%]{margin:0;background-color:#e3cdbb}.custom-checkbox[_ngcontent-%COMP%]{position:absolute;z-index:-1;opacity:0}.main-container[_ngcontent-%COMP%]{border-radius:6px;background-color:#e1d9d9;border:1px solid black;width:fit-content;display:flex;margin:0 0 15px;padding:10px 10px 8px}.main-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{margin-right:10px}.custom-checkbox[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{display:inline-flex;align-items:center;-webkit-user-select:none;user-select:none;transition:border-color .7s ease}.custom-checkbox[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]:before{content:"";display:inline-block;width:22px;height:22px;flex-shrink:0;flex-grow:0;border:1px solid black;border-radius:.25em;margin-right:.5em;background-repeat:no-repeat;background-position:center center;background-size:50% 50%;background-color:#fff;transition:background-color .7s ease}.custom-checkbox[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before{border:2px solid black;width:20px;height:20px;background-color:#e3cdbb;background-image:url("./media/checkMark-FYO6V4AX.svg");background-size:cover}.custom-checkbox[_ngcontent-%COMP%]:not(:disabled):not(:checked) + label[_ngcontent-%COMP%]:hover:before{border:2px solid black;width:20px;height:20px;background-color:#e3cdbb}']});let o=r;return o})();var De=[{path:"",component:Q},{path:":page",component:Q},{path:"book-info/:id",component:K},{path:":page/book-info/:id",component:K}],le=(()=>{let r=class r{};r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=E({type:r}),r.\u0275inj=V({imports:[$.forChild(De),$]});let o=r;return o})();var lt=(()=>{let r=class r{};r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=E({type:r}),r.\u0275inj=V({imports:[ne,re,le]});let o=r;return o})();export{lt as a};
